/*

 (c) 2009-2012 Michael Leibman
 michael{dot}leibman{at}gmail{dot}com
 http://github.com/mleibman/slickgrid

 Distributed under MIT license.
 All rights reserved.

 SlickGrid v2.1

 NOTES:
     Cell/row DOM manipulations are done directly bypassing jQuery's DOM manipulation methods.
     This increases the speed dramatically, but can only be done safely because there are no event handlers
     or data associated with any cell/row DOM nodes.  Cell editors must make sure they implement .destroy()
     and do proper cleanup.

*/
if("undefined"===typeof jQuery)throw"SlickGrid requires jquery module to be loaded";if(!jQuery.fn.drag)throw"SlickGrid requires jquery.event.drag module to be loaded";if("undefined"===typeof Slick)throw"slick.core.js not loaded";
(function(e){e.extend(!0,window,{Slick:{Grid:function(sc,A,g,d){function tc(){if(!ba){ba=!0;uc();vc();var a,b=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"];a=e("<div class='ui-state-default slick-header-column' style='visibility:hidden'>-</div>").appendTo(E);wa=Nb=0;e.each(b,function(b,c){wa+=parseFloat(a.css(c))||0});e.each(c,function(b,c){Nb+=parseFloat(a.css(c))||0});a.remove();var q=e("<div class='slick-row' />").appendTo(xa);
a=e("<div class='slick-cell' id='' style='visibility:hidden'>-</div>").appendTo(q);kb=lb=0;e.each(b,function(b,c){kb+=parseFloat(a.css(c))||0});e.each(c,function(b,c){lb+=parseFloat(a.css(c))||0});q.remove();qa=Math.max(wa,kb);E&&E.jquery&&E.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1});d.enableTextSelectionOnCells||mb.bind("selectstart.ui",function(a){return e(a.target).is("input,textarea")});wc();xc();yc();zc();jQuery.fn.mousewheel&&-1<d.frozenColumn&&
(!d.frozenBottom&&f?Q.mousewheel(Ac):G.mousewheel(Ac));Ob();Bc();E.click(function(a){a.metaKey=a.metaKey||a.ctrlKey;if(!e(a.target).hasClass("slick-resizable-handle")){var b=e(a.target).closest(".slick-header-column");if(b.length&&(b=b.data("column"),b.sortable&&D().commitCurrentEdit())){for(var c=null,q=0;q<J.length;q++)if(J[q].columnId==b.id){c=J[q];c.sortAsc=!c.sortAsc;break}if(a.metaKey&&d.multiColumnSort)c&&J.splice(q,1);else{if(!a.shiftKey&&!a.metaKey||!d.multiColumnSort)J=[];c?0==J.length&&
J.push(c):(c={columnId:b.id,sortAsc:!0},J.push(c))}nb(J);d.multiColumnSort?m(h.onSort,{multiColumnSort:!0,sortCols:e.map(J,function(a){return{sortCol:g[R[a.columnId]],sortAsc:a.sortAsc}})},a):m(h.onSort,{multiColumnSort:!1,sortCol:b,sortAsc:c.sortAsc},a)}}});Cc();ha();for(b=f&&!d.frozenBottom?ca[0]:S[0];(b=b.parentNode)!=document.body&&null!=b;)if(b==G[0]||b.scrollWidth!=b.clientWidth||b.scrollHeight!=b.clientHeight)c=e(b),Fa=Fa?Fa.add(c):c,c.bind("scroll."+N,Dc);n.bind("resize.slickgrid",ha);mb.bind("scroll",
$a);ob.bind("contextmenu",vd).bind("click",wd).delegate(".slick-header-column","mouseenter",xd).delegate(".slick-header-column","mouseleave",yd);ya.bind("scroll",zd);pb.add(Pb).bind("keydown",Ec);xa.bind("keydown",Ec).bind("click",Ad).bind("dblclick",Bd).bind("contextmenu",Cd).bind("draginit",Dd).bind("dragstart",Ed).bind("drag",Fd).bind("dragend",Gd).delegate(".slick-cell","mouseenter",Hd).delegate(".slick-cell","mouseleave",Id)}}function Fc(a){for(var b=ra.length;0<=b;b--)if(ra[b]===a){ra[b].destroy&&
ra[b].destroy();ra.splice(b,1);break}}function Gc(a){a&&(Qb=e(a.target).closest(".grid-canvas"))}function Hc(){for(var a=T=ia=0,b=g.length;a<b;a++){var c=g[a].width;-1<d.frozenColumn&&a>d.frozenColumn?ia+=c:T+=c}-1<d.frozenColumn?(T+=1E3,ia=Math.max(ia,K)+T,ia+=H.width):(T+=H.width,T=Math.max(T,K)+1E3)}function Ic(){var a=Ga?K-H.width:K,b=g.length;for(s=X=0;b--;)-1<d.frozenColumn&&b>d.frozenColumn?X+=g[b].width:s+=g[b].width;b=s+X;return d.fullWidthRows?Math.max(b,a):b}function ab(a){var b=Ha,c=s,
q=X;Ha=Ic();if((b=Ha!==b||s!==c||X!==q)||-1<d.frozenColumn||f)S.width(s),Hc(),ja.width(T),za.width(ia),-1<d.frozenColumn?(Ia.width(X),Ja.width(s),Ka.css("left",s),ka.width(s),sa.css("left",s),La.width(s),bb.width(X),la.width(s),Ma.width(X),G.width(s),da.width(K-s),f&&(ea.width(s),ta.css("left",s),Q.width(s),ma.width(K-s),ca.width(s),Na.width(X))):(Ja.width("100%"),ka.width("100%"),La.width("100%"),la.width("100%"),G.width("100%"),f&&(Q.width("100%"),ca.width(s))),Rb=Ha>K-H.width;Jc.width(Ha+(Ga?H.width:
0));(b||a)&&Sb()}function Bc(){function a(){e(this).addClass("ui-state-hover")}function b(){e(this).removeClass("ui-state-hover")}E.find(".slick-header-column").each(function(){var a=e(this).data("column");a&&m(h.onBeforeHeaderCellDestroy,{node:this,column:a})});ja.empty();za.empty();Hc();ja.width(T);za.width(ia);la.empty();Ma.empty();qb.find(".slick-headerrow-column").each(function(){var a=e(this).data("column");a&&m(h.onBeforeHeaderRowCellDestroy,{node:this,column:a})});for(var c=0;c<g.length;c++){var q=
g[c],pa=-1<d.frozenColumn?c<=d.frozenColumn?ja:za:ja,l=-1<d.frozenColumn?c<=d.frozenColumn?la:Ma:la,pa=e("<div class='ui-state-default slick-header-column' id='"+N+q.id+"' />").html("<span class='slick-column-name'>"+q.name+"</span>").width(q.width-wa).attr("title",q.toolTip||"").data("column",q).addClass(q.headerCssClass||"").appendTo(pa);(d.enableColumnReorder||q.sortable)&&pa.hover(a,b);q.sortable&&pa.append("<span class='slick-sort-indicator' />");m(h.onHeaderCellRendered,{node:pa[0],column:q});
d.showHeaderRow&&(l=e("<div class='ui-state-default slick-headerrow-column l"+c+" r"+c+"'></div>").data("column",q).appendTo(l),m(h.onHeaderRowCellRendered,{node:l[0],column:q}))}nb(J);Kc();if(d.enableColumnReorder){var j=function(){B[0].scrollLeft+=10},f=function(){B[0].scrollLeft-=10};E.filter(":ui-sortable").sortable("destroy");var u=null;E.sortable({containment:"parent",axis:"x",cursor:"default",tolerance:"intersection",helper:"clone",placeholder:"slick-sortable-placeholder ui-state-default slick-header-column",
forcePlaceholderSize:!0,start:function(a,b){e(b.helper).addClass("slick-header-column-active")},beforeStop:function(a,b){e(b.helper).removeClass("slick-header-column-active")},sort:function(a){a.originalEvent.pageX>n[0].clientWidth?u||(u=setInterval(j,100)):a.originalEvent.pageX<B.offset().left?u||(u=setInterval(f,100)):(clearInterval(u),u=null)},stop:function(a){clearInterval(u);u=null;if(D().commitCurrentEdit()){for(var b=ja.sortable("toArray"),b=b.concat(za.sortable("toArray")),c=[],d=0;d<b.length;d++)c.push(g[Lc(b[d].replace(N,
""))]);Tb(c);m(h.onColumnsReordered,{});a.stopPropagation();Kc()}else e(this).sortable("cancel")}})}}function Kc(){var a,b,c,q,pa,l,j,f;q=E.children();q.find(".slick-resizable-handle").remove();q.each(function(a){g[a].resizable&&(void 0===j&&(j=a),f=a)});void 0!==j&&q.each(function(u,p){u<j||d.forceFitColumns&&u>=f||(e(p),e("<div class='slick-resizable-handle' />").appendTo(p).bind("dragstart",function(j){if(!D().commitCurrentEdit())return!1;c=j.pageX;e(this).parent().addClass("slick-header-column-active");
var f=j=null;q.each(function(a,b){g[a].previousWidth=e(b).outerWidth()});if(d.forceFitColumns){f=j=0;for(a=u+1;a<q.length;a++)b=g[a],b.resizable&&(null!==f&&(f=b.maxWidth?f+(b.maxWidth-b.previousWidth):null),j+=b.previousWidth-Math.max(b.minWidth||0,qa))}var h=0,p=0;for(a=0;a<=u;a++)b=g[a],b.resizable&&(null!==p&&(p=b.maxWidth?p+(b.maxWidth-b.previousWidth):null),h+=b.previousWidth-Math.max(b.minWidth||0,qa));null===j&&(j=1E5);null===h&&(h=1E5);null===f&&(f=1E5);null===p&&(p=1E5);l=c+Math.min(j,p);
pa=c-Math.min(h,f)}).bind("drag",function(e){var j=Math.min(l,Math.max(pa,e.pageX))-c,f;if(0>j){f=j;var h=0;for(a=u;0<=a;a--)b=g[a],b.resizable&&(e=Math.max(b.minWidth||0,qa),f&&b.previousWidth+f<e?(f+=b.previousWidth-e,b.width=e):(b.width=b.previousWidth+f,f=0));for(k=0;k<=u;k++)b=g[k],-1<d.frozenColumn&&k>d.frozenColumn||(h+=b.width);if(d.forceFitColumns){f=-j;for(a=u+1;a<q.length;a++)b=g[a],b.resizable&&(f&&b.maxWidth&&b.maxWidth-b.previousWidth<f?(f-=b.maxWidth-b.previousWidth,b.width=b.maxWidth):
(b.width=b.previousWidth+f,f=0),-1<d.frozenColumn&&a>d.frozenColumn||(h+=b.width))}else for(a=u+1;a<q.length;a++)b=g[a],-1<d.frozenColumn&&a>d.frozenColumn||(h+=b.width)}else{f=j;h=0;for(a=u;0<=a;a--)b=g[a],b.resizable&&(f&&b.maxWidth&&b.maxWidth-b.previousWidth<f?(f-=b.maxWidth-b.previousWidth,b.width=b.maxWidth):(b.width=b.previousWidth+f,f=0));for(k=0;k<=u;k++)b=g[k],-1<d.frozenColumn&&k>d.frozenColumn||(h+=b.width);if(d.forceFitColumns){f=-j;for(a=u+1;a<q.length;a++)b=g[a],b.resizable&&(e=Math.max(b.minWidth||
0,qa),f&&b.previousWidth+f<e?(f+=b.previousWidth-e,b.width=e):(b.width=b.previousWidth+f,f=0),-1<d.frozenColumn&&a>d.frozenColumn||(h+=b.width))}else for(a=u+1;a<q.length;a++)b=g[a],-1<d.frozenColumn&&a>d.frozenColumn||(h+=b.width)}-1<d.frozenColumn&&h!=s&&(ja.width(h+1E3),Ka.css("left",h));Mc();d.syncColumnCellResize&&(ab(),Sb())}).bind("dragend",function(){var c;e(this).parent().removeClass("slick-header-column-active");for(a=0;a<q.length;a++)b=g[a],c=e(q[a]).outerWidth(),b.previousWidth!==c&&b.rerenderOnResize&&
Aa();ab(!0);L();m(h.onColumnsResized,{})}))})}function Ub(a){var b=0;e.each(["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],function(c,d){b+=parseFloat(a.css(d))||0});return b}function wc(){d.frozenColumn=0<=d.frozenColumn&&d.frozenColumn<g.length?parseInt(d.frozenColumn):-1;d.frozenRow=0<=d.frozenRow&&d.frozenRow<rb?parseInt(d.frozenRow):-1;if(-1<d.frozenRow){f=!0;U=d.frozenRow*d.rowHeight;var a=w()||this.data.length;I=d.frozenBottom?a-d.frozenRow:d.frozenRow}else f=!1}function xc(){-1<
d.frozenColumn?(Ka.show(),sa.show(),f?(ea.show(),ta.show()):(ta.hide(),ea.hide())):(Ka.hide(),sa.hide(),ta.hide(),f?ea.show():(ta.hide(),ea.hide()))}function zc(){G.css({"overflow-x":-1<d.frozenColumn?f?"hidden":"scroll":f?"hidden":"auto","overflow-y":-1<d.frozenColumn?"hidden":f?"scroll":"auto"});da.css({"overflow-x":-1<d.frozenColumn?f?"hidden":"scroll":f?"hidden":"auto","overflow-y":f?"scroll":"auto"});Q.css({"overflow-x":-1<d.frozenColumn?f?"scroll":"auto":"auto","overflow-y":-1<d.frozenColumn?
"hidden":f?"scroll":"auto"});ma.css({"overflow-x":-1<d.frozenColumn?f?"scroll":"auto":"auto","overflow-y":"auto"})}function yc(){-1<d.frozenColumn?(Vb=sb,tb=bb,f?d.frozenBottom?(B=ma,V=da):B=V=ma:B=V=da):(Vb=cb,tb=La,f?d.frozenBottom?(B=Q,V=G):B=V=Q:B=V=G)}function Cc(){Ba=e("<style type='text/css' rel='stylesheet' />").appendTo(e("head"));for(var a=["."+N+" .slick-header-column { left: 1000px; }","."+N+" .slick-top-panel { height:"+d.topPanelHeight+"px; }","."+N+" .slick-headerrow-columns { height:"+
d.headerRowHeight+"px; }","."+N+" .slick-cell { height:"+(d.rowHeight-lb)+"px; }","."+N+" .slick-row { height:"+d.rowHeight+"px; }"],b=0;b<g.length;b++)a.push("."+N+" .l"+b+" { }"),a.push("."+N+" .r"+b+" { }");Ba[0].styleSheet?Ba[0].styleSheet.cssText=a.join(" "):Ba[0].appendChild(document.createTextNode(a.join(" ")))}function m(a,b,c){c=c||new Slick.EventData;b=b||{};b.grid=h;return a.notify(b,c,h)}function D(){return d.editorLock}function Lc(a){return R[a]}function Wb(){var a,b,c=[],d=0,e=0,l,j=
Ga?K-H.width:K;for(a=0;a<g.length;a++)b=g[a],c.push(b.width),e+=b.width,b.resizable&&(d+=b.width-Math.max(b.minWidth,qa));for(l=e;e>j&&d;){var f=(e-j)/d;for(a=0;a<g.length&&e>j;a++){b=g[a];var h=c[a];if(b.resizable&&!(h<=b.minWidth||h<=qa)){b=Math.max(b.minWidth,qa);var p=Math.floor(f*(h-b))||1,p=Math.min(p,h-b),e=e-p,d=d-p;c[a]-=p}}if(l==e)break;l=e}for(l=e;e<j;){d=j/e;for(a=0;a<g.length&&e<j;a++)b=g[a],b.resizable&&!(b.maxWidth<=b.width)&&(f=Math.min(Math.floor(d*b.width)-b.width,b.maxWidth-b.width||
1E6)||1,e+=f,c[a]+=f);if(l==e)break;l=e}e=!1;for(a=0;a<g.length;a++)g[a].rerenderOnResize&&g[a].width!=c[a]&&(e=!0),g[a].width=c[a];Mc();ab(!0);e&&(Aa(),L())}function Mc(){if(ba){for(var a,b=0,c=E.children(),d=c.length;b<d;b++)a=e(c[b]),a.width()!==g[b].width-wa&&a.width(g[b].width-wa);Ob()}}function Sb(){for(var a,b,c=0,q,e=0;e<g.length;e++){q=g[e].width;b=e;if(!Ca){var l=document.styleSheets;for(a=0;a<l.length;a++)if((l[a].ownerNode||l[a].owningElement)==Ba[0]){Ca=l[a];break}if(!Ca)throw Error("Cannot find stylesheet.");
Xb=[];Yb=[];var l=Ca.cssRules||Ca.rules,j=void 0,j=void 0;for(a=0;a<l.length;a++){var f=l[a].selectorText;if(j=/\.l\d+/.exec(f))j=parseInt(j[0].substr(2,j[0].length-2),10),Xb[j]=l[a];else if(j=/\.r\d+/.exec(f))j=parseInt(j[0].substr(2,j[0].length-2),10),Yb[j]=l[a]}}a=Xb[b];b=Yb[b];a.style.left=c+"px";b.style.right=(-1!=d.frozenColumn&&e>d.frozenColumn?X:s)-c-q+"px";c=d.frozenColumn==e?0:c+g[e].width}}function nb(a){J=a;var b=E.children();b.removeClass("slick-header-column-sorted").find(".slick-sort-indicator").removeClass("slick-sort-indicator-asc slick-sort-indicator-desc");
e.each(J,function(a,d){null==d.sortAsc&&(d.sortAsc=!0);var e=R[d.columnId];null!=e&&b.eq(e).addClass("slick-header-column-sorted").find(".slick-sort-indicator").addClass(d.sortAsc?"slick-sort-indicator-asc":"slick-sort-indicator-desc")})}function Nc(a,b){Zb=[];for(var c={},e=0;e<b.length;e++)for(var f=b[e].fromRow;f<=b[e].toRow;f++){c[f]||(Zb.push(f),c[f]={});for(var l=b[e].fromCell;l<=b[e].toCell;l++)Oc(f,l)&&(c[f][g[l].id]=d.selectedCellCssClass)}Pc(d.selectedCellCssClass,c);m(h.onSelectedRowsChanged,
{rows:Qc()},a)}function Ob(){Oa=[];Pa=[];for(var a=0,b=0,c=g.length;b<c;b++)Oa[b]=a,Pa[b]=a+g[b].width,a=d.frozenColumn==b?0:a+g[b].width}function Tb(a){g=a;R={};for(a=0;a<g.length;a++){var b=g[a]=e.extend({},$b,g[a]);R[b.id]=a;b.minWidth&&b.width<b.minWidth&&(b.width=b.minWidth);b.maxWidth&&b.width>b.maxWidth&&(b.width=b.maxWidth)}Ob();ba&&(xc(),zc(),Aa(),Bc(),Ba.remove(),Ca=null,Cc(),ha(),ab(),Sb(),$a())}function w(){return A.getLength?A.getLength():A.length}function Y(a){return A.getItem?A.getItem(a):
A[a]}function na(a){a=Math.max(a,0);a=Math.min(a,fa-V.height()+(Rb||-1<d.frozenColumn?H.height:0));var b=C;Qa=Math.min(Ra-1,Math.floor(a/Sa));C=Math.round(Qa*ub);a-=C;if(C!=b){var c=vb(a);Rc(c);for(var e in z)z[e].rowNode.css("top",e*d.rowHeight-C+"px")}Ta!=a&&(Da=Ta+b<a+C?1:-1,wb=t=Ta=a,-1<d.frozenColumn&&(G[0].scrollTop=a),f&&(Q[0].scrollTop=ma[0].scrollTop=a),V[0].scrollTop=a,m(h.onViewportChanged,{}))}function xb(a,b){var c=A.getItemMetadata&&A.getItemMetadata(a),e=c&&c.columns&&(c.columns[b.id]||
c.columns[R[b.id]]);return e&&e.formatter||c&&c.formatter||b.formatter||d.formatterFactory&&d.formatterFactory.getFormatter(b)||d.defaultFormatter}function Sc(a,b){var c=g[b],e=A.getItemMetadata&&A.getItemMetadata(a);return(e=e&&e.columns)&&e[c.id]&&void 0!==e[c.id].editor?e[c.id].editor:e&&e[b]&&void 0!==e[b].editor?e[b].editor:c.editor||d.editorFactory&&d.editorFactory.getEditor(c)}function yb(a,b){return d.dataItemColumnValueExtractor?d.dataItemColumnValueExtractor(a,b):a[b.field]}function zb(a,
b,c,d){var e=g[c],f=Y(b),j="slick-cell l"+c+" r"+Math.min(g.length-1,c+d-1)+(e.cssClass?" "+e.cssClass:"");b===p&&c===y&&(j+=" active");for(var h in W)W[h][b]&&W[h][b][e.id]&&(j+=" "+W[h][b][e.id]);a.push("<div class='"+j+"'>");f&&(j=yb(f,e),a.push(xb(b,e)(b,c,j,e,f)));a.push("</div>");z[b].cellRenderQueue.push(c);z[b].cellColSpans[c]=d}function Rc(a){for(var b in z){var c=!1;if(f&&(d.frozenBottom&&b<I||b>=I))c=!0;(b=parseInt(b,10))!==p&&((b<a.top||b>a.bottom)&&c)&&Ab(b)}}function Aa(){r&&oa();for(var a in z)Ab(a)}
function Ab(a){var b=z[a];b&&(b.rowNode[0].parentElement.removeChild(b.rowNode[0]),b.rowNode[1]&&b.rowNode[1].parentElement.removeChild(b.rowNode[1]),delete z[a],delete ua[a],ac--,Tc++)}function Uc(a){var b,c;if(a&&a.length){b=Da=0;for(c=a.length;b<c;b++)r&&p===a[b]&&oa(),z[a[b]]&&Ab(a[b])}}function Vc(a){Uc([a])}function bc(a){var b=z[a];if(b){Bb(a);for(var c in b.cellNodesByColumnIdx)if(b.cellNodesByColumnIdx.hasOwnProperty(c)){c|=0;var d=g[c],e=Y(a),f=b.cellNodesByColumnIdx[c][0];a===p&&c===y&&
r?r.loadValue(e):f.innerHTML=e?xb(a,d)(a,c,yb(e,d),d,e):""}cc(a)}}function vc(){d.autoHeight?O=d.rowHeight*(w()+(d.enableAddRow?1:0))+(-1==d.frozenColumn?E.outerHeight():0):(Cb=d.showTopPanel?d.topPanelHeight+Ub(Ua):0,Db=d.showHeaderRow?d.headerRowHeight+Ub(ya):0,O=parseFloat(e.css(n[0],"height",!0))-parseFloat(e.css(n[0],"paddingTop",!0))-parseFloat(e.css(n[0],"paddingBottom",!0))-parseFloat(e.css(ob[0],"height"))-Ub(ob)-Cb-Db);rb=Math.ceil(O/d.rowHeight)}function uc(){K=parseFloat(e.css(n[0],"width",
!0))}function ha(){if(ba){Va=va=P=0;uc();vc();f?d.frozenBottom?(P=O-U-H.height,va=U+H.height):(P=U,va=O-U):P=O;P+=Cb+Db;-1<d.frozenColumn&&d.autoHeight&&(P+=H.height);Va=P-Cb-Db;d.autoHeight&&(-1<d.frozenColumn&&n.height(P+parseFloat(e.css(cb[0],"height"))),ka.css("position","relative"));ka.css({top:Ja.height(),height:P});var a=ka.position().top+P;G.height(Va);-1<d.frozenColumn?(sa.css({top:Ja.height(),height:P}),da.height(Va),f&&(ea.css({top:a,height:va}),ta.css({top:a,height:va}),ma.height(va))):
f&&(ea.css({width:"100%",height:va}),ea.css("top",a));f?(Q.height(va),d.frozenBottom?(ca.height(U),-1<d.frozenColumn&&Na.height(U)):(S.height(U),-1<d.frozenColumn&&Ia.height(U))):da.height(Va);d.forceFitColumns&&Wb();Eb();$a();L()}}function Eb(){if(ba){var a=f&&!d.frozenBottom?ca.height():S.height();dc=f&&d.frozenBottom?w()-d.frozenRow:w()+(d.enableAddRow?1:0)+(d.leaveSpaceForNewRows?rb-1:0);var b=V.height(),c=Ga;Ga=!d.autoHeight&&dc*d.rowHeight>b;var e=d.enableAddRow?w():w()-1,g;for(g in z)g>=e&&
Ab(g);fa=Math.max(d.rowHeight*dc,b-H.height);x&&p>e&&Wc();fa<db?(M=Sa=fa,Ra=1,ub=0):(M=db,Sa=M/100,Ra=Math.floor(fa/Sa),ub=(fa-M)/(Ra-1));M!==a&&(f&&!d.frozenBottom?(ca.css("height",M),-1<d.frozenColumn&&Na.css("height",M)):(S.css("height",M),Ia.css("height",M)),t=V[0].scrollTop);e=t+C<=fa-b;0==fa||0==t?Qa=C=0:e?na(t+C):na(fa-b);M!=a&&d.autoHeight&&ha();d.forceFitColumns&&c!=Ga&&Wb();ab(!1)}}function vb(a,b){null==a&&(a=t);null==b&&(b=F);return{top:Math.floor((a+C)/d.rowHeight),bottom:Math.ceil((a+
C+O)/d.rowHeight),leftPx:b,rightPx:b+K}}function Xc(a,b){var c=vb(a,b),e=Math.round(O/d.rowHeight);-1==Da?(c.top-=e,c.bottom+=3):1==Da?(c.top-=3,c.bottom+=e):(c.top-=3,c.bottom+=3);c.top=Math.max(0,c.top);c.bottom=Math.min(d.enableAddRow?w():w()-1,c.bottom);c.leftPx-=K;c.rightPx+=K;c.leftPx=Math.max(0,c.leftPx);c.rightPx=Math.min(Ha,c.rightPx);return c}function Bb(a){if((a=z[a])&&a.cellRenderQueue.length)for(var b=a.rowNode.children().last();a.cellRenderQueue.length;){var c=a.cellRenderQueue.pop();
a.cellNodesByColumnIdx[c]=b;b=b.prev();0==b.length&&(b=e(a.rowNode[0]).children().last())}}function Yc(a){for(var b=[],c=[],q=[],h=!1,l=a.top;l<=a.bottom;l++)if(!(z[l]||f&&d.frozenBottom&&l==w())){ac++;q.push(l);z[l]={rowNode:null,cellColSpans:[],cellNodesByColumnIdx:[],cellRenderQueue:[]};var j=b,m=c,u=l,r=a,n=Y(u),v="slick-row"+(u<w()&&!n?" loading":"")+(u===p?" active":"")+(1==u%2?" odd":" even");(n=A.getItemMetadata&&A.getItemMetadata(u))&&n.cssClasses&&(v+=" "+n.cssClasses);var s=ec(u),v="<div class='ui-widget-content "+
v+"' style='top:"+(d.rowHeight*u-C-s)+"px'>";j.push(v);-1<d.frozenColumn&&m.push(v);for(var t=void 0,B=void 0,v=0,s=g.length;v<s;v++){B=g[v];t=1;n&&n.columns&&(t=(t=n.columns[B.id]||n.columns[v])&&t.colspan||1,"*"===t&&(t=s-v));if(Pa[Math.min(s-1,v+t-1)]>r.leftPx){if(Oa[v]>r.rightPx)break;-1<d.frozenColumn&&v>d.frozenColumn?zb(m,u,v,t):zb(j,u,v,t)}else-1<d.frozenColumn&&v<=d.frozenColumn&&zb(j,u,v,t);1<t&&(v+=t-1)}j.push("</div>");-1<d.frozenColumn&&m.push("</div>");x&&p===l&&(h=!0);Zc++}if(q.length){a=
document.createElement("div");j=document.createElement("div");a.innerHTML=b.join("");j.innerHTML=c.join("");l=0;for(b=q.length;l<b;l++)z[q[l]].rowNode=f&&q[l]>=I?-1<d.frozenColumn?e().add(e(a.firstChild).appendTo(ca)).add(e(j.firstChild).appendTo(Na)):e().add(e(a.firstChild).appendTo(ca)):-1<d.frozenColumn?e().add(e(a.firstChild).appendTo(S)).add(e(j.firstChild).appendTo(Ia)):e().add(e(a.firstChild).appendTo(S));h&&(x=Z(p,y))}}function $c(){d.enableAsyncPostRender&&(clearTimeout(fc),fc=setTimeout(ad,
d.asyncPostRenderDelay))}function cc(a){delete ua[a];Wa=Math.min(Wa,a);eb=Math.max(eb,a);$c()}function L(){if(ba){var a=vb(),b=Xc();Rc(b);if(Fb!=F){for(var c,q=[],h=[],l,j,m=b.top;m<=b.bottom;m++)if(c=z[m]){Bb(m);j=b;l=m;if(!f||!(d.frozenBottom&&l>I||l<=I)){var r=0,n=z[l],s=[],v=void 0;for(v in n.cellNodesByColumnIdx)if(n.cellNodesByColumnIdx.hasOwnProperty(v)&&(v|=0,!(v<=d.frozenColumn))){var x=n.cellColSpans[v];if(Oa[v]>j.rightPx||Pa[Math.min(g.length-1,v+x-1)]<j.leftPx)l==p&&v==y||s.push(v)}for(j=
void 0;null!=(j=s.pop());)n.cellNodesByColumnIdx[j][0].parentElement.removeChild(n.cellNodesByColumnIdx[j][0]),delete n.cellColSpans[j],delete n.cellNodesByColumnIdx[j],ua[l]&&delete ua[l][j],r++}l=0;r=(r=A.getItemMetadata&&A.getItemMetadata(m))&&r.columns;n=0;for(s=g.length;n<s&&!(Oa[n]>b.rightPx);n++){if(null==(j=c.cellColSpans[n]))j=1,r&&(j=(j=r[g[n].id]||r[n])&&j.colspan||1,"*"===j&&(j=s-n)),Pa[Math.min(s-1,n+j-1)]>b.leftPx&&(zb(q,m,n,j),l++);n+=1<j?j-1:0}l&&h.push(m)}if(q.length){m=document.createElement("div");
for(m.innerHTML=q.join("");null!=(c=h.pop());)for(c=z[c];null!=(l=c.cellRenderQueue.pop());)q=e(m).children().last(),-1<d.frozenColumn&&l>d.frozenColumn?e(c.rowNode[1]).append(q):e(c.rowNode[0]).append(q),c.cellNodesByColumnIdx[l]=q}}Yc(b);d.frozenBottom&&Yc({top:I,bottom:w()-1,leftPx:b.leftPx,rightPx:b.rightPx});Wa=a.top;eb=Math.min(d.enableAddRow?w():w()-1,a.bottom);$c();wb=t;Fb=F;Gb=null}}function zd(){var a=tb[0].scrollLeft;a!=B[0].scrollLeft&&(B[0].scrollLeft=a)}function $a(){t=V[0].scrollTop;
F=B[0].scrollLeft;var a=Math.abs(t-Ta),b=Math.abs(F-bd);b&&(bd=F,Vb[0].scrollLeft=F,Ua[0].scrollLeft=F,tb[0].scrollLeft=F,-1<d.frozenColumn?f&&(da[0].scrollLeft=F):f&&(G[0].scrollLeft=F));if(a)if(Da=Ta<t?1:-1,Ta=t,-1<d.frozenColumn&&(f&&!d.frozenBottom?Q[0].scrollTop=t:G[0].scrollTop=t),a<O)na(t+C);else{var c=C;Qa=M==O?0:Math.min(Ra-1,Math.floor(t*((fa-O)/(M-O))*(1/Sa)));C=Math.round(Qa*ub);c!=C&&Aa()}if(b||a)if(Gb&&clearTimeout(Gb),20<Math.abs(wb-t)||20<Math.abs(Fb-F))d.forceSyncScrolling||Math.abs(wb-
t)<O&&Math.abs(Fb-F)<K?L():Gb=setTimeout(L,50),m(h.onViewportChanged,{});m(h.onScroll,{scrollLeft:F,scrollTop:t})}function Ac(a,b){0<b?na(t-Math.abs(b)*d.rowHeight):na(t+Math.abs(b)*d.rowHeight);L();a.preventDefault();m(h.onMouseWheel,{scrollTop:t})}function ad(){for(;Wa<=eb;){var a=0<=Da?Wa++:eb--,b=z[a];if(b&&!(a>=w())){ua[a]||(ua[a]={});Bb(a);for(var c in b.cellNodesByColumnIdx)if(b.cellNodesByColumnIdx.hasOwnProperty(c)){c|=0;var e=g[c];if(e.asyncPostRender&&!ua[a][c]){var f=b.cellNodesByColumnIdx[c];
f&&e.asyncPostRender(f,Wa,Y(a),e);ua[a][c]=!0}}fc=setTimeout(ad,d.asyncPostRenderDelay);break}}}function gc(a,b){var c,d,f,g,j;for(j in z){g=b&&b[j];f=a&&a[j];if(g)for(d in g)if(!f||g[d]!=f[d])(c=Z(j,R[d]))&&e(c).removeClass(g[d]);if(f)for(d in f)if(!g||g[d]!=f[d])(c=Z(j,R[d]))&&e(c).addClass(f[d])}}function Pc(a,b){var c=W[a];W[a]=b;gc(b,c);m(h.onCellCssStylesChanged,{key:a,hash:b})}function Dd(a,b){var c=fb(a);if(!c||!hc(c.row,c.cell))return!1;retval=m(h.onDragInit,b,a);return a.isImmediatePropagationStopped()?
retval:!1}function Ed(a,b){var c=fb(a);if(!c||!hc(c.row,c.cell))return!1;c=m(h.onDragStart,b,a);return a.isImmediatePropagationStopped()?c:!1}function Fd(a,b){return m(h.onDrag,b,a)}function Gd(a,b){m(h.onDragEnd,b,a)}function Ec(a){m(h.onKeyDown,{row:p,cell:y},a);var b=a.isImmediatePropagationStopped();if(!b)if(!a.shiftKey&&!a.altKey&&!a.ctrlKey)if(27==a.which){if(!D().isActive())return;cd()}else 37==a.which?b=dd():39==a.which?b=ed():38==a.which?b=fd():40==a.which?b=Hb():9==a.which?b=gd():13==a.which&&
(d.editable&&(r?p===w()?Hb():hd():D().commitCurrentEdit()&&Ib()),b=!0);else 9==a.which&&(a.shiftKey&&!a.ctrlKey&&!a.altKey)&&(b=id());if(b){a.stopPropagation();a.preventDefault();try{a.originalEvent.keyCode=0}catch(c){}}}function Ad(a){r||a.target!=document.activeElement&&Ea();var b=fb(a);if(b&&!(null!==r&&p==b.row&&y==b.cell)&&(m(h.onClick,{row:b.row,cell:b.cell},a),!a.isImmediatePropagationStopped()&&(y!=b.cell||p!=b.row)&&ga(b.row,b.cell)))if(!D().isActive()||D().commitCurrentEdit())f&&(!d.frozenBottom&&
b.row>=I||d.frozenBottom&&b.row<I)&&gb(b.row,!1),Xa(Z(b.row,b.cell),b.row===w()||d.autoEdit)}function Cd(a){var b=e(a.target).closest(".slick-cell",xa);0!==b.length&&(x===b[0]&&null!==r||m(h.onContextMenu,{},a))}function Bd(a){var b=fb(a);b&&!(null!==r&&p==b.row&&y==b.cell)&&(m(h.onDblClick,{row:b.row,cell:b.cell},a),a.isImmediatePropagationStopped()||d.editable&&jd(b.row,b.cell,!0))}function xd(a){m(h.onHeaderMouseEnter,{column:e(this).data("column")},a)}function yd(a){m(h.onHeaderMouseLeave,{column:e(this).data("column")},
a)}function vd(a){var b=e(a.target).closest(".slick-header-column",".slick-header-columns"),b=b&&b.data("column");m(h.onHeaderContextMenu,{column:b},a)}function wd(a){var b=e(a.target).closest(".slick-header-column",".slick-header-columns");(b=b&&b.data("column"))&&m(h.onHeaderClick,{column:b},a)}function Hd(a){m(h.onMouseEnter,{},a)}function Id(a){m(h.onMouseLeave,{},a)}function hc(a,b){return!(0>a||a>=w()||0>b||b>=g.length)}function ic(a,b){for(var c=Math.floor((b+C)/d.rowHeight),e=0,f=0,h=0;h<
g.length&&f<a;h++)f+=g[h].width,e++;0>e&&(e=0);return{row:c,cell:e-1}}function kd(a){var b=/l\d+/.exec(a.className);if(!b)throw"getCellFromNode: cannot get cell - "+a.className;return parseInt(b[0].substr(1,b[0].length-1),10)}function ec(a){return f?d.frozenBottom?a>=I?M<Va?I*d.rowHeight:M:0:a>=I?U:0:0}function fb(a){var b=e(a.target).closest(".slick-cell",xa);if(!b.length)return null;var c=b.parents(".grid-canvas").offset(),g=0,h=b.parents(".grid-canvas-bottom").length;f&&h&&(g=d.frozenBottom?S.height():
U);a=ic(a.clientX-c.left,a.clientY-c.top+g+e(document).scrollTop()).row;b=kd(b[0]);return null==a||null==b?null:{row:a,cell:b}}function Wc(){Xa(null,!1)}function Ea(){-1==ld?pb[0].focus():Pb[0].focus()}function hb(a,b){if(!(b<=d.frozenColumn)){var c=Ya(a,b),e=Oa[b],c=Pa[b+(1<c?c-1:0)],f=F+B.width();e<F?(B.scrollLeft(e),$a(),L()):c>f&&(B.scrollLeft(Math.min(e,c-B[0].clientWidth)),$a(),L())}}function Xa(a,b){null!==x&&(oa(),e(x).removeClass("active"),z[p]&&e(z[p].rowNode).removeClass("active"));var c=
x!==a;x=a;if(null!=x){var g=e(x),n=g.offset(),l=Math.floor(g.parents(".grid-canvas").offset().top),j=g.parents(".grid-canvas-bottom").length;f&&j&&(l-=d.frozenBottom?S.height():U);cell=ic(n.left,Math.ceil(n.top)-l);p=cell.row;y=Jb=y=Jb=kd(x[0]);g.addClass("active");d.editable&&(b&&md(p,y))&&(clearTimeout(jc),d.asyncEditorLoading?jc=setTimeout(function(){Ib()},d.asyncEditorLoadDelay):Ib())}else p=y=null;c&&(setTimeout(Jd,50),m(h.onActiveCellChanged,nd()))}function md(a,b){return a<w()&&!Y(a)||g[b].cannotTriggerInsert&&
a>=w()||!Sc(a,b)?!1:!0}function oa(){if(r){m(h.onBeforeCellEditorDestroy,{editor:r});r.destroy();r=null;if(x){var a=Y(p);e(x).removeClass("editable invalid");if(a){var b=g[y],c=xb(p,b);x[0].innerHTML=c(p,y,yb(a,b),b,Y(p));cc(p)}}e.browser.msie&&(document.selection&&document.selection.empty?document.selection.empty():window.getSelection&&(a=window.getSelection())&&a.removeAllRanges&&a.removeAllRanges());D().deactivate(Kb)}}function Ib(a){if(x){if(!d.editable)throw"Grid : makeActiveCellEditable : should never get called when options.editable is false";
clearTimeout(jc);if(md(p,y)){var b=g[y],c=Y(p);!1===m(h.onBeforeEditCell,{row:p,cell:y,item:c,column:b})?Ea():(D().activate(Kb),e(x).addClass("editable"),a||(x[0].innerHTML=""),r=new (a||Sc(p,y))({grid:h,gridPosition:Lb(n[0]),position:Lb(x[0]),container:x,column:b,item:c||{},commitChanges:hd,cancelChanges:cd}),c&&r.loadValue(c),od=r.serializeValue(),r.position&&Dc())}}}function hd(){D().commitCurrentEdit()&&(Ea(),d.autoEdit&&Hb())}function cd(){D().cancelCurrentEdit()&&Ea()}function Lb(a){var b={top:a.offsetTop,
left:a.offsetLeft,bottom:0,right:0,width:e(a).outerWidth(),height:e(a).outerHeight(),visible:!0};b.bottom=b.top+b.height;b.right=b.left+b.width;for(var c=a.offsetParent;(a=a.parentNode)!=document.body;)b.visible&&(a.scrollHeight!=a.offsetHeight&&"visible"!=e(a).css("overflowY"))&&(b.visible=b.bottom>a.scrollTop&&b.top<a.scrollTop+a.clientHeight),b.visible&&(a.scrollWidth!=a.offsetWidth&&"visible"!=e(a).css("overflowX"))&&(b.visible=b.right>a.scrollLeft&&b.left<a.scrollLeft+a.clientWidth),b.left-=
a.scrollLeft,b.top-=a.scrollTop,a===c&&(b.left+=a.offsetLeft,b.top+=a.offsetTop,c=a.offsetParent),b.bottom=b.top+b.height,b.right=b.left+b.width;return b}function pd(){return Lb(x[0])}function Dc(){if(x&&(m(h.onActiveCellPositionChanged,{}),r)){var a=pd();r.show&&r.hide&&(a.visible?r.show():r.hide());r.position&&r.position(a)}}function nd(){return x?{row:p,cell:y}:null}function Jd(){null!=p&&null!=y&&hb(p,y)}function gb(a,b){f&&!d.frozenBottom&&(a-=I);var c=V.height(),e=a*d.rowHeight,g=(a+1)*d.rowHeight-
c+(Rb?H.height:0);(a+1)*d.rowHeight>t+c+C?(na(b?e:g),L()):a*d.rowHeight<t+C&&(na(b?g:e),L())}function Ya(a,b){var c=A.getItemMetadata&&A.getItemMetadata(a);if(!c||!c.columns)return 1;c=(c=c.columns[g[b].id]||c.columns[b])&&c.colspan;return(c="*"===c?g.length-b:c||1)||1}function qd(a){for(var b=0;b<g.length;){if(ga(a,b))return b;b+=Ya(a,b)}return null}function kc(a,b){if(b>=g.length)return null;do b+=Ya(a,b);while(b<g.length&&!ga(a,b));return b<g.length?{row:a,cell:b,posX:b}:null}function rd(a,b){if(0>=
b)return null;var c=qd(a);if(null===c||c>=b)return null;for(var c={row:a,cell:c,posX:c},d;;){d=kc(c.row,c.cell,c.posX);if(!d)return null;if(d.cell>=b)return c;c=d}}function Kd(a,b,c){for(var e;;){if(++a>=w()+(d.enableAddRow?1:0))return null;for(e=b=0;b<=c;)e=b,b+=Ya(a,b);if(ga(a,e))return{row:a,cell:e,posX:c}}}function Ld(a,b,c){for(var d;;){if(0>--a)return null;for(d=b=0;b<=c;)d=b,b+=Ya(a,b);if(ga(a,d))return{row:a,cell:d,posX:c}}}function Md(a,b,c){if(null==a&&null==b&&(a=b=c=0,ga(a,b)))return{row:a,
cell:b,posX:b};if(b=kc(a,b,c))return b;for(b=null;++a<w()+(d.enableAddRow?1:0);)if(b=qd(a),null!==b)return{row:a,cell:b,posX:b};return null}function Nd(a,b,c){if(null==a&&null==b&&(a=w()+(d.enableAddRow?1:0)-1,b=c=g.length-1,ga(a,b)))return{row:a,cell:b,posX:b};for(var e,f;!e&&!(e=rd(a,b,c));){if(0>--a)return null;b=0;f=a;for(var h=0,j=null;h<g.length;)ga(f,h)&&(j=h),h+=Ya(f,h);f=j;null!==f&&(e={row:a,cell:f,posX:f})}return e}function ed(){return Za("right")}function dd(){return Za("left")}function Hb(){return Za("down")}
function fd(){return Za("up")}function gd(){return Za("next")}function id(){return Za("prev")}function Za(a){if(!d.enableCellNavigation||!x&&"prev"!=a&&"next"!=a)return!1;if(!D().commitCurrentEdit())return!0;Ea();ld={up:-1,down:1,left:-1,right:1,prev:-1,next:1}[a];if(a=(0,{up:Ld,down:Kd,left:rd,right:kc,prev:Nd,next:Md}[a])(p,y,Jb)){if(!(f&&d.frozenBottom&a.row==w())){var b=a.row==w();(!d.frozenBottom&&a.row>=I||d.frozenBottom&&a.row<I)&&gb(a.row,!b);hb(a.row,a.cell);Xa(Z(a.row,a.cell),b||d.autoEdit);
Jb=a.posX;return!0}}else return Xa(Z(p,y),p==w()||d.autoEdit),!1}function Z(a,b){return z[a]?(Bb(a),z[a].cellNodesByColumnIdx[b]):null}function ga(a,b){if(!d.enableCellNavigation||a>=w()+(d.enableAddRow?1:0)||0>a||b>=g.length||0>b)return!1;var c=A.getItemMetadata&&A.getItemMetadata(a);return c&&"boolean"===typeof c.focusable?c.focusable:(c=c&&c.columns)&&c[g[b].id]&&"boolean"===typeof c[g[b].id].focusable?c[g[b].id].focusable:c&&c[b]&&"boolean"===typeof c[b].focusable?c[b].focusable:"boolean"===typeof g[b].focusable?
g[b].focusable:!0}function Oc(a,b){if(a>=w()||0>a||b>=g.length||0>b)return!1;var c=A.getItemMetadata&&A.getItemMetadata(a);return c&&"boolean"===typeof c.selectable?c.selectable:(c=c&&c.columns&&(c.columns[g[b].id]||c.columns[b]))&&"boolean"===typeof c.selectable?c.selectable:"boolean"===typeof g[b].selectable?g[b].selectable:!0}function jd(a,b,c){ba&&(ga(a,b)&&D().commitCurrentEdit())&&(gb(a,!1),hb(a,b),b=Z(a,b),Xa(b,c||a===w()||d.autoEdit),r||Ea())}function Od(a){for(var b=[],c=g.length-1,d=0;d<
a.length;d++)b.push(new Slick.Range(a[d],0,a[d],c));return b}function Qc(){if(!$)throw"Selection model is not set";return Zb}var Pd={explicitInitialization:!1,rowHeight:25,defaultColumnWidth:80,enableAddRow:!1,leaveSpaceForNewRows:!1,editable:!1,autoEdit:!0,enableCellNavigation:!0,enableColumnReorder:!0,asyncEditorLoading:!1,asyncEditorLoadDelay:100,forceFitColumns:!1,enableAsyncPostRender:!1,asyncPostRenderDelay:50,autoHeight:!1,editorLock:Slick.GlobalEditorLock,showHeaderRow:!1,headerRowHeight:25,
showTopPanel:!1,topPanelHeight:25,formatterFactory:null,editorFactory:null,cellFlashingCssClass:"flashing",selectedCellCssClass:"selected",multiSelect:!0,enableTextSelectionOnCells:!1,dataItemColumnValueExtractor:null,frozenBottom:!1,frozenColumn:-1,frozenRow:-1,fullWidthRows:!1,multiColumnSort:!1,defaultFormatter:function(a,b,c){return null==c?"":c.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},forceSyncScrolling:!1},$b={name:"",resizable:!0,sortable:!1,minWidth:30,rerenderOnResize:!1,
headerCssClass:null,defaultSortAsc:!0},fa,M,Sa,Ra,ub,Qa=0,C=0,Da=1,ba=!1,n,N="slickgrid_"+Math.round(1E6*Math.random()),h=this,pb,Pb,ob,E,qb,ya,Jc,Ua,sd,mb,xa,Ba,Fa,Ca,Xb,Yb,O,K,Ha,s,X,T,ia,Rb,Ga,wa=0,Nb=0,kb=0,lb=0,qa,dc=0,f=!1,U=0,I=-1,P=0,va=0,Va=0,Cb=0,Db=0,ld=1,Qb,lc,Jb,p,y,x=null,r=null,od,Kb,z={},ac=0,rb=0,Ta=0,t=0,wb=0,Fb=0,bd=0,F=0,$,Zb=[],ra=[],W={},R={},J=[],Oa=[],Pa=[],jc=null,Gb=null,fc=null,ua={},eb=null,Wa=null,Zc=0,Tc=0,Ja,Ka,ka,sa,ea,ta,cb,sb,ja,za,La,bb,la,Ma,mc,nc,td,ud,G,da,Q,
ma,S,Ia,ca,Na,B,V,Vb,tb;this.debug=function(){var a;a="\ncounter_rows_rendered:  "+Zc;a+="\ncounter_rows_removed:  "+Tc;a+="\nrenderedRows:  "+ac;a+="\nnumVisibleRows:  "+rb;a+="\nmaxSupportedCssHeight:  "+db;a+="\nn(umber of pages):  "+Ra;a+="\n(current) page:  "+Qa;a+="\npage height (ph):  "+Sa;a+="\nvScrollDir:  "+Da;alert(a)};this.eval=function(a){return eval(a)};e.extend(this,{slickGridVersion:"2.1",onScroll:new Slick.Event,onMouseWheel:new Slick.Event,onSort:new Slick.Event,onHeaderMouseEnter:new Slick.Event,
onHeaderMouseLeave:new Slick.Event,onHeaderContextMenu:new Slick.Event,onHeaderClick:new Slick.Event,onHeaderCellRendered:new Slick.Event,onBeforeHeaderCellDestroy:new Slick.Event,onHeaderRowCellRendered:new Slick.Event,onBeforeHeaderRowCellDestroy:new Slick.Event,onMouseEnter:new Slick.Event,onMouseLeave:new Slick.Event,onClick:new Slick.Event,onDblClick:new Slick.Event,onContextMenu:new Slick.Event,onKeyDown:new Slick.Event,onAddNewRow:new Slick.Event,onValidationError:new Slick.Event,onViewportChanged:new Slick.Event,
onColumnsReordered:new Slick.Event,onColumnsResized:new Slick.Event,onCellChange:new Slick.Event,onBeforeEditCell:new Slick.Event,onBeforeCellEditorDestroy:new Slick.Event,onBeforeDestroy:new Slick.Event,onActiveCellChanged:new Slick.Event,onActiveCellPositionChanged:new Slick.Event,onDragInit:new Slick.Event,onDragStart:new Slick.Event,onDrag:new Slick.Event,onDragEnd:new Slick.Event,onSelectedRowsChanged:new Slick.Event,onCellCssStylesChanged:new Slick.Event,registerPlugin:function(a){ra.unshift(a);
a.init(h)},unregisterPlugin:Fc,getColumns:function(){return g},setColumns:Tb,getColumnIndex:Lc,updateColumnHeader:function(a,b,c){if(ba&&(a=R[a],null!=a)){var d=g[a],e=E.children().eq(a);e&&(void 0!==b&&(g[a].name=b),void 0!==c&&(g[a].toolTip=c),m(h.onBeforeHeaderCellDestroy,{node:e[0],column:d}),e.attr("title",c||"").children().eq(0).html(b),m(h.onHeaderCellRendered,{node:e[0],column:d}))}},setSortColumn:function(a,b){nb([{columnId:a,sortAsc:b}])},setSortColumns:nb,getSortColumns:function(){return J},
autosizeColumns:Wb,getOptions:function(){return d},setOptions:function(a){D().commitCurrentEdit()&&(oa(),d.enableAddRow!==a.enableAddRow&&Vc(w()),d=e.extend(d,a),d.autoHeight&&(d.leaveSpaceForNewRows=!1),wc(),yc(),Tb(g),L())},getData:function(){return A},getDataLength:w,getDataItem:Y,setData:function(a,b){A=a;Aa();Eb();b&&na(0)},getSelectionModel:function(){return $},setSelectionModel:function(a){$&&($.onSelectedRangesChanged.unsubscribe(Nc),$.destroy&&$.destroy());if($=a)$.init(h),$.onSelectedRangesChanged.subscribe(Nc)},
getSelectedRows:Qc,setSelectedRows:function(a){if(!$)throw"Selection model is not set";$.setSelectedRanges(Od(a))},render:L,invalidate:function(){Eb();Aa();L()},invalidateRow:Vc,invalidateRows:Uc,invalidateAllRows:Aa,updateCell:function(a,b){var c=Z(a,b);if(c){var d=g[b],e=Y(a);r&&p===a&&y===b?r.loadValue(e):(c.innerHTML=e?xb(a,d)(a,b,yb(e,d),d,e):"",cc(a))}},updateRow:bc,getViewport:vb,getRenderedRange:Xc,resizeCanvas:ha,updateRowCount:Eb,scrollRowIntoView:gb,scrollRowToTop:function(a){na(a*d.rowHeight);
L()},scrollCellIntoView:hb,getCanvasNode:function(){return xa[0]},getActiveCanvasNode:function(a){Gc(a);return Qb[0]},setActiveCanvasNode:Gc,getViewportNode:function(){return mb[0]},getActiveViewportNode:function(a){setActiveViewPortNode(a);return lc[0]},setActiveViewportNode:function(a){a&&(lc=e(a.target).closest(".slick-viewport"))},focus:Ea,getCellFromPoint:ic,getCellFromEvent:fb,getActiveCell:nd,setActiveCell:function(a,b){if(ba&&!(a>w()||0>a||b>=g.length||0>b)&&d.enableCellNavigation)gb(a,!1),
hb(a,b),Xa(Z(a,b),!1)},getActiveCellNode:function(){return x},getActiveCellPosition:pd,resetActiveCell:Wc,editActiveCell:Ib,getCellEditor:function(){return r},getCellNode:Z,getCellNodeBox:function(a,b){if(!hc(a,b))return null;for(var c=ec(a),c=a*d.rowHeight-C-c,e=c+d.rowHeight-1,f=0,h=0;h<b;h++)f+=g[h].width,d.frozenColumn==h&&(f=0);return{top:c,left:f,bottom:e,right:f+g[b].width}},canCellBeSelected:Oc,canCellBeActive:ga,navigatePrev:id,navigateNext:gd,navigateUp:fd,navigateDown:Hb,navigateLeft:dd,
navigateRight:ed,gotoCell:jd,getTopPanel:function(){return sd[0]},setTopPanelVisibility:function(a){d.showTopPanel!=a&&((d.showTopPanel=a)?Ua.slideDown("fast",ha):Ua.slideUp("fast",ha))},setHeaderRowVisibility:function(a){d.showHeaderRow!=a&&((d.showHeaderRow=a)?ya.slideDown("fast",ha):ya.slideUp("fast",ha))},getHeaderRow:function(){return-1<d.frozenColumn?qb:qb[0]},getHeaderRowColumn:function(a){a=R[a];var b;-1<d.frozenColumn?a<=d.frozenColumn?b=la:(b=Ma,a-=d.frozenColumn+1):b=la;return(a=b.children().eq(a))&&
a[0]},getGridPosition:function(){return Lb(n[0])},flashCell:function(a,b,c){c=c||100;if(z[a]){var f=e(Z(a,b)),g=function(a){a&&setTimeout(function(){f.queue(function(){f.toggleClass(d.cellFlashingCssClass).dequeue();g(a-1)})},c)};g(4)}},addCellCssStyles:function(a,b){if(W[a])throw"addCellCssStyles: cell CSS hash with key '"+a+"' already exists.";W[a]=b;gc(b,null);m(h.onCellCssStylesChanged,{key:a,hash:b})},setCellCssStyles:Pc,removeCellCssStyles:function(a){W[a]&&(gc(null,W[a]),delete W[a],m(h.onCellCssStylesChanged,
{key:a,hash:null}))},getCellCssStyles:function(a){return W[a]},getFrozenRowOffset:ec,init:tc,destroy:function(){D().cancelCurrentEdit();m(h.onBeforeDestroy,{});for(var a=ra.length;a--;)Fc(ra[a]);d.enableColumnReorder&&E.sortable&&E.sortable("destroy");Fa&&(Fa.unbind("scroll."+N),Fa=null);n.unbind(".slickgrid");Ba.remove();Ca=null;xa.unbind("draginit dragstart dragend drag");n.empty().removeClass(N)},getEditorLock:D,getEditController:function(){return Kb}});n=e(sc);if(1>n.length)throw Error("SlickGrid requires a valid container, "+
sc+" does not exist in the DOM.");var oc;if(!(oc=db)){for(var pc=1E6,Qd=e.browser.mozilla?6E6:1E9,qc=e("<div style='display:none' />").appendTo(document.body);;){var Mb=2*pc;qc.css("height",Mb);if(Mb>Qd||qc.height()!==Mb)break;else pc=Mb}qc.remove();oc=pc}db=oc;var rc;if(!(rc=H)){var ib=e("<div style='position:absolute; top:-10000px; left:-10000px; width:100px; height:100px; overflow:scroll;'></div>").appendTo("body"),Rd={width:ib.width()-ib[0].clientWidth,height:ib.height()-ib[0].clientHeight};ib.remove();
rc=Rd}H=rc;d=e.extend({},Pd,d);d.autoHeight&&(d.leaveSpaceForNewRows=!1);$b.width=d.defaultColumnWidth;for(var R={},jb=0;jb<g.length;jb++){var aa=g[jb]=e.extend({},$b,g[jb]);R[aa.id]=jb;aa.minWidth&&aa.width<aa.minWidth&&(aa.width=aa.minWidth);aa.maxWidth&&aa.width>aa.maxWidth&&(aa.width=aa.maxWidth)}if(d.enableColumnReorder&&!e.fn.sortable)throw Error("SlickGrid's 'enableColumnReorder = true' option requires jquery-ui.sortable module to be loaded");Kb={commitCurrentEdit:function(){var a=Y(p),b=g[y];
if(r){if(r.isValueChanged()){var c=r.validate();if(c.valid)return p<w()?(c={row:p,cell:y,editor:r,serializedValue:r.serializeValue(),prevSerializedValue:od,execute:function(){this.editor.applyValue(a,this.serializedValue);bc(this.row)},undo:function(){this.editor.applyValue(a,this.prevSerializedValue);bc(this.row)}},d.editCommandHandler?(oa(),d.editCommandHandler(a,b,c)):(c.execute(),oa()),m(h.onCellChange,{row:p,cell:y,item:a})):(c={},r.applyValue(c,r.serializeValue()),oa(),m(h.onAddNewRow,{item:c,
column:b})),!D().isActive();e(x).addClass("invalid");e(x).stop(!0,!0).effect("highlight",{color:"red"},300);m(h.onValidationError,{editor:r,cellNode:x,validationResults:c,row:p,cell:y,column:b});r.focus();return!1}oa()}return!0},cancelCurrentEdit:function(){oa();return!0}};n.empty().css("overflow","hidden").css("outline",0).addClass(N).addClass("ui-widget");/relative|absolute|fixed/.test(n.css("position"))||n.css("position","relative");pb=e("<div tabIndex='0' hideFocus style='position:fixed;width:0;height:0;top:0;left:0;outline:0;'></div>").appendTo(n);
Ja=e("<div class='slick-pane slick-pane-header slick-pane-left' tabIndex='0' />").appendTo(n);Ka=e("<div class='slick-pane slick-pane-header slick-pane-right' tabIndex='0' />").appendTo(n);ka=e("<div class='slick-pane slick-pane-top slick-pane-left' tabIndex='0' />").appendTo(n);sa=e("<div class='slick-pane slick-pane-top slick-pane-right' tabIndex='0' />").appendTo(n);ea=e("<div class='slick-pane slick-pane-bottom slick-pane-left' tabIndex='0' />").appendTo(n);ta=e("<div class='slick-pane slick-pane-bottom slick-pane-right' tabIndex='0' />").appendTo(n);
cb=e("<div class='ui-state-default slick-header slick-header-left' />").appendTo(Ja);sb=e("<div class='ui-state-default slick-header slick-header-right' />").appendTo(Ka);Jc=e("<div style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").css("width",Ic()+H.width+"px").appendTo(ya);ob=e().add(cb).add(sb);ja=e("<div class='slick-header-columns slick-header-columns-left' style='left:-1000px' />").appendTo(cb);za=e("<div class='slick-header-columns slick-header-columns-right' style='left:-1000px' />").appendTo(sb);
E=e().add(ja).add(za);La=e("<div class='ui-state-default slick-headerrow' />").appendTo(ka);bb=e("<div class='ui-state-default slick-headerrow' />").appendTo(sa);ya=e().add(La).add(bb);la=e("<div class='slick-headerrow-columns slick-headerrow-columns-left' />").appendTo(La);Ma=e("<div class='slick-headerrow-columns slick-headerrow-columns-right' />").appendTo(bb);qb=e().add(la).add(Ma);mc=e("<div class='ui-state-default slick-top-panel-scroller' />").appendTo(ka);nc=e("<div class='ui-state-default slick-top-panel-scroller' />").appendTo(sa);
Ua=e().add(mc).add(nc);td=e("<div class='slick-top-panel' style='width:10000px' />").appendTo(mc);ud=e("<div class='slick-top-panel' style='width:10000px' />").appendTo(nc);sd=e().add(td).add(ud);d.showTopPanel||Ua.hide();d.showHeaderRow||ya.hide();G=e("<div class='slick-viewport slick-viewport-top slick-viewport-left' tabIndex='0' hideFocus />").appendTo(ka);da=e("<div class='slick-viewport slick-viewport-top slick-viewport-right' tabIndex='0' hideFocus />").appendTo(sa);Q=e("<div class='slick-viewport slick-viewport-bottom slick-viewport-left' tabIndex='0' hideFocus />").appendTo(ea);
ma=e("<div class='slick-viewport slick-viewport-bottom slick-viewport-right' tabIndex='0' hideFocus />").appendTo(ta);mb=e().add(G).add(da).add(Q).add(ma);lc=G;S=e("<div class='grid-canvas grid-canvas-top grid-canvas-left' tabIndex='0' hideFocus />").appendTo(G);Ia=e("<div class='grid-canvas grid-canvas-top grid-canvas-right' tabIndex='0' hideFocus />").appendTo(da);ca=e("<div class='grid-canvas grid-canvas-bottom grid-canvas-left' tabIndex='0' hideFocus />").appendTo(Q);Na=e("<div class='grid-canvas grid-canvas-bottom grid-canvas-right' tabIndex='0' hideFocus />").appendTo(ma);
xa=e().add(S).add(Ia).add(ca).add(Na);Qb=S;Pb=pb.clone().appendTo(n);d.explicitInitialization||tc()}}});var H,db})(jQuery);
